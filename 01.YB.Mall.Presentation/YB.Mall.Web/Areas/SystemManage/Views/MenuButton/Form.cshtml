@{
    Layout = "~/Views/Shared/_Form.cshtml";
}
<script>
    var keyValue = $.request("keyValue");
    var menuId = $.request("menuId");
    $(function () {
        $.formButton.initForm();
    });
    (function ($) {
        $.formButton = {
            initForm:function() {
                if (!!keyValue) {
                    $.ajax({
                        url: "/SystemManage/MenuButton/InitForm",
                        data: { keyValue: keyValue },
                        dataType: "json",
                        async: false,
                        success: function (data) {
                            $("#form1").formSerialize(data);
                        }
                    });
                }
            },
            submitForm:function() {
                if (!$('#form1').formValid()) {
                    return false;
                }
                var postData = $("#form1").formSerialize();
                postData["MenuId"] = menuId;
                $.submitForm({
                    url: "/SystemManage/MenuButton/SubmitForm?keyValue=" + keyValue,
                    param: postData,
                    success: function() {
                        top.modulebutton.$("#grid").resetSelection();
                        top.modulebutton.$("#grid").trigger("reloadGrid");
                    }
                });
            }
        };
    })(jQuery);
</script>
<form id="form1">
    <div style="padding-top: 30px; margin-right: 30px;">
        <table class="form">
            <tr>
                <th class="formTitle">名称</th>
                <td class="formValue">
                    <input id="ButtonName" name="ButtonName" type="text" class="form-control required" placeholder="请输入名称" />
                </td>
                <th class="formTitle">编号</th>
                <td class="formValue">
                    <input id="ElementId" name="ElementId" type="text" class="form-control required" placeholder="请输入编号" />
                </td>
            </tr>
            <tr>
                <th class="formTitle">事件</th>
                <td class="formValue">
                    <input id="Event" name="Event" type="text" class="form-control" />
                </td>
                <th class="formTitle">连接</th>
                <td class="formValue">
                    <div class="input-group">
                        <input id="Icon" name="Icon" type="text" class="form-control">
                        <span class="input-group-btn">
                            <a class="btn  btn-primary"><i class="fa fa-ellipsis-h"></i></a>
                        </span>
                    </div>
                </td>
            </tr>
            <tr>
                <th class="formTitle">排序</th>
                <td class="formValue">
                    <input id="Sort" name="Sort" type="text" class="form-control required"/>
                </td>
                <th class="formTitle">图标</th>
                <td class="formValue">
                    <div class="ckbox">
                        <input id="IsEnabled" name="IsEnabled" type="checkbox" checked="checked"><label for="IsEnabled">有效</label>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</form>


